import{a as _}from"./chunk-OCOL7P7C.js";import{a as h}from"./chunk-OZI22DKB.js";import{$ as p,Ba as j,C as a,F as E,Ia as I,Ja as V,K as g,L as f,N as T,O as w,P as C,R as t,S as e,X as S,Z as m,ia as r,ja as b,ka as v,m as P,p as s,q as x,r as c,sa as M,ta as W,ua as u,v as y}from"./chunk-ZCN2T34V.js";var k=class i{xpService=s(h);myWordsRepository=s(_);getSummary(){return{totalXp:this.xpService.getXp(),savedWordsCount:this.myWordsRepository.getAll().length}}static \u0275fac=function(n){return new(n||i)};static \u0275prov=P({token:i,factory:i.\u0275fac,providedIn:"root"})};var L=(i,o)=>o.ts;function A(i,o){if(i&1){let n=S();t(0,"div",22)(1,"button",33),m("click",function(){x(n);let l=p();return c(l.copyAll())}),t(2,"span",34),r(3,"content_copy"),e(),r(4," Copy all "),e(),t(5,"button",35),m("click",function(){x(n);let l=p();return c(l.confirmClear())}),t(6,"span",34),r(7,"delete"),e(),r(8," Clear all "),e()()}}function R(i,o){i&1&&(t(0,"div",24)(1,"span",36),r(2,"book"),e(),t(3,"p",37),r(4,"No words saved yet"),e(),t(5,"p",38),r(6,"Words you add during lessons will appear here."),e()())}function z(i,o){if(i&1&&(t(0,"span",39),r(1),e()),i&2){let n=o.$implicit;a(),v(" ",n," ")}}function X(i,o){if(i&1&&(t(0,"span",40),r(1),e()),i&2){let n=p(2);a(),v(" +",n.savedWords().length-10," more ")}}function F(i,o){if(i&1&&(t(0,"div",25),w(1,z,2,1,"span",39,T),g(3,X,2,1,"span",40),e()),i&2){let n=p();a(),C(n.previewWords()),a(2),f(n.savedWords().length>10?3:-1)}}function $(i,o){if(i&1&&(t(0,"div",30)(1,"div",41)(2,"p",42),r(3),e(),t(4,"p",43),r(5),M(6,"date"),e()(),t(7,"div",44),r(8),e()()),i&2){let n=o.$implicit;a(3),b(n.reason),a(2),b(W(6,3,n.ts,"MMM d, HH:mm")),a(3),v(" +",n.amount," ")}}function B(i,o){i&1&&(t(0,"div",24)(1,"span",45),r(2,"pending_actions"),e(),t(3,"p",46),r(4,"No activity yet"),e()())}function H(i,o){if(i&1){let n=S();t(0,"div",47),m("click",function(){x(n);let l=p();return c(l.showClearModal.set(!1))}),t(1,"div",48),m("click",function(l){return x(n),c(l.stopPropagation())}),t(2,"div",49)(3,"span",12),r(4,"delete_forever"),e()(),t(5,"h3",50),r(6,"Clear all words?"),e(),t(7,"p",51),r(8,"This action cannot be undone. All your saved vocabulary will be removed."),e(),t(9,"div",52)(10,"button",53),m("click",function(){x(n);let l=p();return c(l.clearAll())}),r(11," Yes, clear all "),e(),t(12,"button",54),m("click",function(){x(n);let l=p();return c(l.showClearModal.set(!1))}),r(13," Cancel "),e()()()()}}function O(i,o){i&1&&(t(0,"div",32)(1,"div",55)(2,"span",56),r(3,"check_circle"),e(),t(4,"span",57),r(5,"Copied to clipboard!"),e()()())}var D=class i{summaryService=s(k);myWordsRepository=s(_);xpService=s(h);router=s(I);refreshTrigger=y(0);showClearModal=y(!1);showCopyToast=y(!1);savedWords=u(()=>(this.refreshTrigger(),this.myWordsRepository.getAll()));previewWords=u(()=>this.savedWords().slice(0,10));summary=u(()=>(this.refreshTrigger(),this.summaryService.getSummary()));xpLog=u(()=>this.xpService.getLog().slice(0,10));continueLearning(){let o=localStorage.getItem("gf.last.lessonId");o?this.router.navigate(["/video",o]):this.router.navigate(["/catalog"])}copyAll(){let o=this.savedWords().join(", ");navigator.clipboard.writeText(o).then(()=>{this.showCopyToast.set(!0),setTimeout(()=>this.showCopyToast.set(!1),2e3)})}confirmClear(){this.showClearModal.set(!0)}clearAll(){this.myWordsRepository.clearAll(),this.refreshTrigger.update(o=>o+1),this.showClearModal.set(!1)}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=E({type:i,selectors:[["app-progress-page"]],decls:61,vars:7,consts:[[1,"flex-1","overflow-y-auto","bg-[#fcfcf9]","dark:bg-[#0f0f05]","p-6","md:p-10"],[1,"max-w-6xl","mx-auto"],[1,"mb-10","flex","flex-col","md:flex-row","md:items-end","justify-between","gap-6"],[1,"text-3xl","font-bold","text-text-primary","dark:text-white"],[1,"text-text-secondary","dark:text-gray-400","mt-2"],[1,"flex","items-center","gap-3"],[1,"px-6","py-3","rounded-2xl","bg-primary","text-text-primary","font-bold","shadow-lg","shadow-primary/20","hover:bg-[#e6e205]","transition-all","flex","items-center","gap-2","cursor-pointer",3,"click"],[1,"material-symbols-outlined","font-bold"],["routerLink","/catalog",1,"px-6","py-3","rounded-2xl","bg-white","dark:bg-[#1e1e12]","border","border-[#f0f0eb]","dark:border-[#33332a]","text-text-primary","dark:text-white","font-bold","hover:bg-gray-50","dark:hover:bg-white/5","transition-all","flex","items-center","gap-2","cursor-pointer"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6","mb-12"],[1,"bg-white","dark:bg-[#1e1e12]","rounded-3xl","p-6","border","border-[#f0f0eb]","dark:border-[#33332a]","shadow-sm","flex","items-center","gap-5"],[1,"size-14","rounded-2xl","bg-primary/10","flex","items-center","justify-center","text-primary"],[1,"material-symbols-outlined","!text-[32px]"],[1,"text-sm","font-medium","text-text-secondary","dark:text-gray-400","uppercase","tracking-wider"],[1,"text-2xl","font-black","text-text-primary","dark:text-white"],[1,"size-14","rounded-2xl","bg-[#00a3ff]/10","flex","items-center","justify-center","text-[#00a3ff]"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-8"],[1,"lg:col-span-2","space-y-8"],[1,"bg-white","dark:bg-[#1e1e12]","rounded-3xl","border","border-[#f0f0eb]","dark:border-[#33332a]","shadow-sm","overflow-hidden"],[1,"px-6","py-5","border-b","border-[#f0f0eb]","dark:border-[#33332a]","flex","items-center","justify-between","bg-gray-50/50","dark:bg-white/5"],[1,"text-xl","font-bold","text-text-primary","dark:text-white","flex","items-center","gap-2"],[1,"material-symbols-outlined","text-primary"],[1,"flex","items-center","gap-2"],[1,"p-6"],[1,"py-12","flex","flex-col","items-center","justify-center","text-center"],[1,"flex","flex-wrap","gap-2"],[1,"lg:col-span-1"],[1,"bg-white","dark:bg-[#1e1e12]","rounded-3xl","border","border-[#f0f0eb]","dark:border-[#33332a]","shadow-sm","overflow-hidden","h-full","flex","flex-col"],[1,"px-6","py-5","border-b","border-[#f0f0eb]","dark:border-[#33332a]","bg-gray-50/50","dark:bg-white/5"],[1,"flex-1","overflow-y-auto","p-4","space-y-4"],[1,"flex","items-center","justify-between","gap-4","p-3","rounded-2xl","bg-gray-50/50","dark:bg-white/5","border","border-[#f0f0eb]/50","dark:border-[#33332a]/50"],[1,"fixed","inset-0","z-[100]","flex","items-center","justify-center","p-4","bg-black/40","backdrop-blur-sm","animate-in","fade-in","duration-200"],[1,"fixed","bottom-8","left-1/2","-translate-x-1/2","z-[100]","animate-in","slide-in-from-bottom-4","fade-in","duration-300","pointer-events-none"],[1,"flex","items-center","gap-1.5","px-3","py-1.5","rounded-xl","text-xs","font-bold","text-text-primary","bg-white","dark:bg-[#2a2a1a]","border","border-[#e6e6e0]","dark:border-[#444]","hover:bg-gray-50","dark:hover:bg-[#333]","transition-colors","cursor-pointer",3,"click"],[1,"material-symbols-outlined","!text-[16px]"],[1,"flex","items-center","gap-1.5","px-3","py-1.5","rounded-xl","text-xs","font-bold","text-red-500","bg-red-50","dark:bg-red-500/10","border","border-red-100","dark:border-red-500/20","hover:bg-red-100","dark:hover:bg-red-500/20","transition-colors","cursor-pointer",3,"click"],[1,"material-symbols-outlined","text-gray-200","dark:text-gray-700","!text-[64px]","mb-4"],[1,"text-text-primary","dark:text-white","font-bold","mb-1"],[1,"text-text-secondary","dark:text-gray-500","text-sm","max-w-xs"],[1,"px-3","py-1.5","rounded-xl","bg-[#f9f506]/10","text-text-primary","dark:text-white","text-sm","font-medium","border","border-[#f9f506]/20"],[1,"px-3","py-1.5","rounded-xl","bg-gray-50","dark:bg-[#25251a]","text-text-secondary","dark:text-gray-400","text-sm","font-medium","border","border-[#e6e6e0]","dark:border-[#33332a]"],[1,"min-w-0"],[1,"text-sm","font-bold","text-text-primary","dark:text-white","truncate"],[1,"text-[10px]","text-text-secondary","dark:text-gray-500","uppercase","font-medium"],[1,"flex","items-center","gap-1","text-green-600","dark:text-green-400","font-black","text-sm","shrink-0"],[1,"material-symbols-outlined","text-gray-200","dark:text-gray-700","!text-[48px]","mb-2"],[1,"text-text-secondary","dark:text-gray-500","text-xs","font-medium"],[1,"fixed","inset-0","z-[100]","flex","items-center","justify-center","p-4","bg-black/40","backdrop-blur-sm","animate-in","fade-in","duration-200",3,"click"],[1,"bg-white","dark:bg-[#1e1e12]","rounded-[32px]","p-8","w-full","max-w-sm","shadow-2xl","border","border-[#f0f0eb]","dark:border-[#33332a]","animate-in","zoom-in-95","duration-200",3,"click"],[1,"size-16","rounded-full","bg-red-50","dark:bg-red-500/10","flex","items-center","justify-center","text-red-500","mb-6","mx-auto"],[1,"text-xl","font-bold","text-text-primary","dark:text-white","text-center","mb-2"],[1,"text-text-secondary","dark:text-gray-400","text-center","mb-8","text-sm"],[1,"flex","flex-col","gap-3"],[1,"w-full","h-12","rounded-2xl","bg-red-500","text-white","font-bold","hover:bg-red-600","transition-colors","shadow-lg","shadow-red-500/20","cursor-pointer",3,"click"],[1,"w-full","h-12","rounded-2xl","bg-gray-50","dark:bg-[#2a2a1a]","text-text-primary","dark:text-white","font-bold","hover:bg-gray-100","dark:hover:bg-[#333]","transition-colors","cursor-pointer",3,"click"],[1,"bg-text-primary","dark:bg-white","text-white","dark:text-text-primary","px-6","py-3","rounded-2xl","shadow-2xl","flex","items-center","gap-3","border","border-white/10"],[1,"material-symbols-outlined","text-primary","!text-[20px]"],[1,"text-sm","font-bold","tracking-tight"]],template:function(n,d){n&1&&(t(0,"div",0)(1,"div",1)(2,"header",2)(3,"div")(4,"h1",3),r(5,"My Progress"),e(),t(6,"p",4),r(7,"Track your learning journey and saved words."),e()(),t(8,"div",5)(9,"button",6),m("click",function(){return d.continueLearning()}),t(10,"span",7),r(11,"play_circle"),e(),r(12," Continue Learning "),e(),t(13,"a",8)(14,"span",7),r(15,"grid_view"),e(),r(16," Catalog "),e()()(),t(17,"div",9)(18,"div",10)(19,"div",11)(20,"span",12),r(21,"bolt"),e()(),t(22,"div")(23,"p",13),r(24,"Total XP"),e(),t(25,"p",14),r(26),e()()(),t(27,"div",10)(28,"div",15)(29,"span",12),r(30,"menu_book"),e()(),t(31,"div")(32,"p",13),r(33,"Saved Words"),e(),t(34,"p",14),r(35),e()()()(),t(36,"div",16)(37,"div",17)(38,"section",18)(39,"div",19)(40,"h2",20)(41,"span",21),r(42,"bookmark"),e(),r(43," My Words "),e(),g(44,A,9,0,"div",22),e(),t(45,"div",23),g(46,R,7,0,"div",24)(47,F,4,1,"div",25),e()()(),t(48,"div",26)(49,"section",27)(50,"div",28)(51,"h2",20)(52,"span",21),r(53,"history"),e(),r(54," Activity "),e()(),t(55,"div",29),w(56,$,9,6,"div",30,L,!1,B,5,0,"div",24),e()()()()()(),g(59,H,14,0,"div",31),g(60,O,6,0,"div",32)),n&2&&(a(26),b(d.summary().totalXp.toLocaleString()),a(9),b(d.summary().savedWordsCount),a(9),f(d.savedWords().length>0?44:-1),a(2),f(d.savedWords().length===0?46:47),a(10),C(d.xpLog()),a(3),f(d.showClearModal()?59:-1),a(),f(d.showCopyToast()?60:-1))},dependencies:[V,j],styles:["[_nghost-%COMP%]{display:flex;flex:1;min-height:0}"]})};export{D as ProgressPageComponent};
