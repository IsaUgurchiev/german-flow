import{a as _}from"./chunk-P7PKUUEN.js";import{a as h}from"./chunk-YN2Q7Y4T.js";import{Aa as I,B as E,Ba as V,G as g,H as f,J as T,K as w,L as C,N as t,O as e,T as S,V as m,X as p,ca as r,da as b,ea as v,i as P,l as s,m as x,ma as M,n as c,na as W,oa as u,r as y,va as j,y as a}from"./chunk-6XIKHDVE.js";var k=class i{xpService=s(h);myWordsRepository=s(_);getSummary(){return{totalXp:this.xpService.getXp(),savedWordsCount:this.myWordsRepository.getAll().length}}static \u0275fac=function(n){return new(n||i)};static \u0275prov=P({token:i,factory:i.\u0275fac,providedIn:"root"})};var L=(i,o)=>o.ts;function A(i,o){if(i&1){let n=S();t(0,"div",21)(1,"button",32),m("click",function(){x(n);let l=p();return c(l.copyAll())}),t(2,"span",33),r(3,"content_copy"),e(),r(4," Copy all "),e(),t(5,"button",34),m("click",function(){x(n);let l=p();return c(l.confirmClear())}),t(6,"span",33),r(7,"delete"),e(),r(8," Clear all "),e()()}}function R(i,o){i&1&&(t(0,"div",23)(1,"span",35),r(2,"book"),e(),t(3,"p",36),r(4,"No words saved yet"),e(),t(5,"p",37),r(6,"Words you add during lessons will appear here."),e()())}function z(i,o){if(i&1&&(t(0,"span",38),r(1),e()),i&2){let n=o.$implicit;a(),v(" ",n," ")}}function X(i,o){if(i&1&&(t(0,"span",39),r(1),e()),i&2){let n=p(2);a(),v(" +",n.savedWords().length-10," more ")}}function F(i,o){if(i&1&&(t(0,"div",24),w(1,z,2,1,"span",38,T),g(3,X,2,1,"span",39),e()),i&2){let n=p();a(),C(n.previewWords()),a(2),f(n.savedWords().length>10?3:-1)}}function $(i,o){if(i&1&&(t(0,"div",29)(1,"div",40)(2,"p",41),r(3),e(),t(4,"p",42),r(5),M(6,"date"),e()(),t(7,"div",43),r(8),e()()),i&2){let n=o.$implicit;a(3),b(n.reason),a(2),b(W(6,3,n.ts,"MMM d, HH:mm")),a(3),v(" +",n.amount," ")}}function B(i,o){i&1&&(t(0,"div",23)(1,"span",44),r(2,"pending_actions"),e(),t(3,"p",45),r(4,"No activity yet"),e()())}function H(i,o){if(i&1){let n=S();t(0,"div",46),m("click",function(){x(n);let l=p();return c(l.showClearModal.set(!1))}),t(1,"div",47),m("click",function(l){return x(n),c(l.stopPropagation())}),t(2,"div",48)(3,"span",11),r(4,"delete_forever"),e()(),t(5,"h3",49),r(6,"Clear all words?"),e(),t(7,"p",50),r(8,"This action cannot be undone. All your saved vocabulary will be removed."),e(),t(9,"div",51)(10,"button",52),m("click",function(){x(n);let l=p();return c(l.clearAll())}),r(11," Yes, clear all "),e(),t(12,"button",53),m("click",function(){x(n);let l=p();return c(l.showClearModal.set(!1))}),r(13," Cancel "),e()()()()}}function O(i,o){i&1&&(t(0,"div",31)(1,"div",54)(2,"span",55),r(3,"check_circle"),e(),t(4,"span",56),r(5,"Copied to clipboard!"),e()()())}var D=class i{summaryService=s(k);myWordsRepository=s(_);xpService=s(h);router=s(I);refreshTrigger=y(0);showClearModal=y(!1);showCopyToast=y(!1);savedWords=u(()=>(this.refreshTrigger(),this.myWordsRepository.getAll()));previewWords=u(()=>this.savedWords().slice(0,10));summary=u(()=>(this.refreshTrigger(),this.summaryService.getSummary()));xpLog=u(()=>this.xpService.getLog().slice(0,10));continueLearning(){let o=localStorage.getItem("gf.last.lessonId");o?this.router.navigate(["/video",o]):this.router.navigate(["/catalog"])}copyAll(){let o=this.savedWords().join(", ");navigator.clipboard.writeText(o).then(()=>{this.showCopyToast.set(!0),setTimeout(()=>this.showCopyToast.set(!1),2e3)})}confirmClear(){this.showClearModal.set(!0)}clearAll(){this.myWordsRepository.clearAll(),this.refreshTrigger.update(o=>o+1),this.showClearModal.set(!1)}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=E({type:i,selectors:[["app-progress-page"]],decls:60,vars:7,consts:[[1,"max-w-4xl","mx-auto","px-4","py-8"],[1,"mb-8","flex","flex-col","md:flex-row","md:items-end","justify-between","gap-6"],[1,"text-3xl","font-bold","text-text-primary","dark:text-white"],[1,"text-text-secondary","dark:text-gray-400","mt-2"],[1,"flex","items-center","gap-3"],[1,"px-6","py-3","rounded-2xl","bg-primary","text-text-primary","font-bold","shadow-lg","shadow-primary/20","hover:bg-[#e6e205]","transition-all","flex","items-center","gap-2","cursor-pointer",3,"click"],[1,"material-symbols-outlined","font-bold"],["routerLink","/catalog",1,"px-6","py-3","rounded-2xl","bg-white","dark:bg-[#1e1e12]","border","border-[#f0f0eb]","dark:border-[#33332a]","text-text-primary","dark:text-white","font-bold","hover:bg-gray-50","dark:hover:bg-white/5","transition-all","flex","items-center","gap-2","cursor-pointer"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6","mb-12"],[1,"bg-white","dark:bg-[#1e1e12]","rounded-3xl","p-6","border","border-[#f0f0eb]","dark:border-[#33332a]","shadow-sm","flex","items-center","gap-5"],[1,"size-14","rounded-2xl","bg-primary/10","flex","items-center","justify-center","text-primary"],[1,"material-symbols-outlined","!text-[32px]"],[1,"text-sm","font-medium","text-text-secondary","dark:text-gray-400","uppercase","tracking-wider"],[1,"text-2xl","font-black","text-text-primary","dark:text-white"],[1,"size-14","rounded-2xl","bg-[#00a3ff]/10","flex","items-center","justify-center","text-[#00a3ff]"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-8"],[1,"lg:col-span-2","space-y-8"],[1,"bg-white","dark:bg-[#1e1e12]","rounded-3xl","border","border-[#f0f0eb]","dark:border-[#33332a]","shadow-sm","overflow-hidden"],[1,"px-6","py-5","border-b","border-[#f0f0eb]","dark:border-[#33332a]","flex","items-center","justify-between","bg-gray-50/50","dark:bg-white/5"],[1,"text-xl","font-bold","text-text-primary","dark:text-white","flex","items-center","gap-2"],[1,"material-symbols-outlined","text-primary"],[1,"flex","items-center","gap-2"],[1,"p-6"],[1,"py-12","flex","flex-col","items-center","justify-center","text-center"],[1,"flex","flex-wrap","gap-2"],[1,"lg:col-span-1"],[1,"bg-white","dark:bg-[#1e1e12]","rounded-3xl","border","border-[#f0f0eb]","dark:border-[#33332a]","shadow-sm","overflow-hidden","h-full","flex","flex-col"],[1,"px-6","py-5","border-b","border-[#f0f0eb]","dark:border-[#33332a]","bg-gray-50/50","dark:bg-white/5"],[1,"flex-1","overflow-y-auto","p-4","space-y-4"],[1,"flex","items-center","justify-between","gap-4","p-3","rounded-2xl","bg-gray-50/50","dark:bg-white/5","border","border-[#f0f0eb]/50","dark:border-[#33332a]/50"],[1,"fixed","inset-0","z-[100]","flex","items-center","justify-center","p-4","bg-black/40","backdrop-blur-sm","animate-in","fade-in","duration-200"],[1,"fixed","bottom-8","left-1/2","-translate-x-1/2","z-[100]","animate-in","slide-in-from-bottom-4","fade-in","duration-300","pointer-events-none"],[1,"flex","items-center","gap-1.5","px-3","py-1.5","rounded-xl","text-xs","font-bold","text-text-primary","bg-white","dark:bg-[#2a2a1a]","border","border-[#e6e6e0]","dark:border-[#444]","hover:bg-gray-50","dark:hover:bg-[#333]","transition-colors","cursor-pointer",3,"click"],[1,"material-symbols-outlined","!text-[16px]"],[1,"flex","items-center","gap-1.5","px-3","py-1.5","rounded-xl","text-xs","font-bold","text-red-500","bg-red-50","dark:bg-red-500/10","border","border-red-100","dark:border-red-500/20","hover:bg-red-100","dark:hover:bg-red-500/20","transition-colors","cursor-pointer",3,"click"],[1,"material-symbols-outlined","text-gray-200","dark:text-gray-700","!text-[64px]","mb-4"],[1,"text-text-primary","dark:text-white","font-bold","mb-1"],[1,"text-text-secondary","dark:text-gray-500","text-sm","max-w-xs"],[1,"px-3","py-1.5","rounded-xl","bg-[#f9f506]/10","text-text-primary","dark:text-white","text-sm","font-medium","border","border-[#f9f506]/20"],[1,"px-3","py-1.5","rounded-xl","bg-gray-50","dark:bg-[#25251a]","text-text-secondary","dark:text-gray-400","text-sm","font-medium","border","border-[#e6e6e0]","dark:border-[#33332a]"],[1,"min-w-0"],[1,"text-sm","font-bold","text-text-primary","dark:text-white","truncate"],[1,"text-[10px]","text-text-secondary","dark:text-gray-500","uppercase","font-medium"],[1,"flex","items-center","gap-1","text-green-600","dark:text-green-400","font-black","text-sm","shrink-0"],[1,"material-symbols-outlined","text-gray-200","dark:text-gray-700","!text-[48px]","mb-2"],[1,"text-text-secondary","dark:text-gray-500","text-xs","font-medium"],[1,"fixed","inset-0","z-[100]","flex","items-center","justify-center","p-4","bg-black/40","backdrop-blur-sm","animate-in","fade-in","duration-200",3,"click"],[1,"bg-white","dark:bg-[#1e1e12]","rounded-[32px]","p-8","w-full","max-w-sm","shadow-2xl","border","border-[#f0f0eb]","dark:border-[#33332a]","animate-in","zoom-in-95","duration-200",3,"click"],[1,"size-16","rounded-full","bg-red-50","dark:bg-red-500/10","flex","items-center","justify-center","text-red-500","mb-6","mx-auto"],[1,"text-xl","font-bold","text-text-primary","dark:text-white","text-center","mb-2"],[1,"text-text-secondary","dark:text-gray-400","text-center","mb-8","text-sm"],[1,"flex","flex-col","gap-3"],[1,"w-full","h-12","rounded-2xl","bg-red-500","text-white","font-bold","hover:bg-red-600","transition-colors","shadow-lg","shadow-red-500/20","cursor-pointer",3,"click"],[1,"w-full","h-12","rounded-2xl","bg-gray-50","dark:bg-[#2a2a1a]","text-text-primary","dark:text-white","font-bold","hover:bg-gray-100","dark:hover:bg-[#333]","transition-colors","cursor-pointer",3,"click"],[1,"bg-text-primary","dark:bg-white","text-white","dark:text-text-primary","px-6","py-3","rounded-2xl","shadow-2xl","flex","items-center","gap-3","border","border-white/10"],[1,"material-symbols-outlined","text-primary","!text-[20px]"],[1,"text-sm","font-bold","tracking-tight"]],template:function(n,d){n&1&&(t(0,"div",0)(1,"header",1)(2,"div")(3,"h1",2),r(4,"My Progress"),e(),t(5,"p",3),r(6,"Track your learning journey and saved words."),e()(),t(7,"div",4)(8,"button",5),m("click",function(){return d.continueLearning()}),t(9,"span",6),r(10,"play_circle"),e(),r(11," Continue Learning "),e(),t(12,"a",7)(13,"span",6),r(14,"grid_view"),e(),r(15," Catalog "),e()()(),t(16,"div",8)(17,"div",9)(18,"div",10)(19,"span",11),r(20,"bolt"),e()(),t(21,"div")(22,"p",12),r(23,"Total XP"),e(),t(24,"p",13),r(25),e()()(),t(26,"div",9)(27,"div",14)(28,"span",11),r(29,"menu_book"),e()(),t(30,"div")(31,"p",12),r(32,"Saved Words"),e(),t(33,"p",13),r(34),e()()()(),t(35,"div",15)(36,"div",16)(37,"section",17)(38,"div",18)(39,"h2",19)(40,"span",20),r(41,"bookmark"),e(),r(42," My Words "),e(),g(43,A,9,0,"div",21),e(),t(44,"div",22),g(45,R,7,0,"div",23)(46,F,4,1,"div",24),e()()(),t(47,"div",25)(48,"section",26)(49,"div",27)(50,"h2",19)(51,"span",20),r(52,"history"),e(),r(53," Activity "),e()(),t(54,"div",28),w(55,$,9,6,"div",29,L,!1,B,5,0,"div",23),e()()()()(),g(58,H,14,0,"div",30),g(59,O,6,0,"div",31)),n&2&&(a(25),b(d.summary().totalXp.toLocaleString()),a(9),b(d.summary().savedWordsCount),a(9),f(d.savedWords().length>0?43:-1),a(2),f(d.savedWords().length===0?45:46),a(10),C(d.xpLog()),a(3),f(d.showClearModal()?58:-1),a(),f(d.showCopyToast()?59:-1))},dependencies:[V,j],styles:["[_nghost-%COMP%]{display:block}"]})};export{D as ProgressPageComponent};
